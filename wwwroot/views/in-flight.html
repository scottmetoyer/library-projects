<div ng-controller="ProjectsCtrl as projects">
<div class="page-header m-b-0">
  <h1><span class="text-muted font-weight-light">Projects / </span>In-flight</h1>
</div>
<div class="page-wide-block p-a-4 bg-white font-size-15">
    <p>
      Projects that are in execution. Drag to change priority.
    </p>
    <a href ui-sref="pages.create-project" class="btn btn-primary"><span class="btn-label-icon left ion-plus-round"></span>Create a project</a>
</div>
<hr class="page-wide-block m-t-0">
<div class="row">
  <div class="col-md-12">
      <div class="table-light">
          <table class="table table-bordered table-striped" id="projects">
              <thead>
                <tr>
                  <th>Key</th>
                  <th>Name</th>
                  <th>Lead</th>
                  <th>Owner</th>
                  <th>Latest Update</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="p in projects.projects">
                  <td><a href ui-sref="pages.view-project({ key: p.key })">{{ p.key }}</a></td>
                  <td>{{ p.name }}</td>
                  <td>{{ p.lead }}</td>
                  <td>{{ p.owner }}</td>
                  <td></td>
                </tr>
              </tbody>
          </table>
      </div>
  </div>
</div>

<script type="text/javascript">
  $(function() {
    $('#projects').sortable({
      containerSelector: 'table',
      itemPath: '> tbody',
      itemSelector: 'tr',
      placeholder: '<tr class="placeholder">'
    });
  });
</script>
</div>
